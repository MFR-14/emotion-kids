/* =========================
   GESYA - Level 6 CSS (FINAL)
   Reframing + Bottom Notif Bar
   HP & Desktop friendly
   ========================= */

/* ====== LAYOUT ====== */
.lvl6-layout{
  padding: 8px 16px 20px;
  padding-bottom: calc(180px + env(safe-area-inset-bottom)); /* ruang untuk bottom notif (HP) */
}

.lvl6-wrap{
  display:grid;
  gap:16px;
  justify-items:center;
}

.lvl6-round{
  width:min(560px, 96vw);
  background:#fff;
  border-radius:18px;
  padding:12px 16px;
  font-weight:900;
  box-shadow:0 10px 26px rgba(0,0,0,.06);
  text-align:center;
}

/* ====== KARTU SITUASI ====== */
.lvl6-card{
  width:min(560px, 96vw);
  background:#fff;
  border-radius:22px;
  padding:14px 14px 12px;
  box-shadow:0 10px 26px rgba(0,0,0,.08);
  display:grid;
  justify-items:center;
  gap:10px;
  user-select:none;
}

.q-emoji{ font-size:56px; line-height:1; }

.q-title{
  font-weight:950;
  font-size:17px;
  text-align:center;
  line-height:1.25;
}

.q-box{
  width:100%;
  background: rgba(255,210,125,.22);
  border-radius:18px;
  padding:10px 12px;
  display:grid;
  gap:6px;
}

.q-label{
  font-size:12px;
  font-weight:900;
  opacity:.75;
}

.q-neg{
  font-weight:950;
  line-height:1.25;
}

.q-mini{
  font-size:13px;
  opacity:.75;
  text-align:center;
}

/* ====== OPSI ====== */
.lvl6-options{
  width:min(560px, 96vw);
  display:grid;
  gap:12px;
  grid-template-columns: 1fr; /* default 1 kolom (HP) */
}

.opt-btn{
  width:100%;
  border:none;
  background:#fff;
  border-radius:18px;
  padding:14px 12px;
  box-shadow:0 10px 22px rgba(0,0,0,.06);
  cursor:pointer;
  display:flex;
  gap:12px;
  align-items:center;
  text-align:left;
}

.opt-btn .emo{
  width:44px;
  height:44px;
  border-radius:14px;
  display:grid;
  place-items:center;
  background:#f6f6f6;
  font-size:24px;
  flex:0 0 44px;
}

.opt-btn .txt{
  font-weight:900;
  font-size:14px;
  line-height:1.25;
}

.opt-btn:active{ transform:scale(.99); }

.opt-btn.good{ outline:4px solid rgba(27,127,58,.35); }
.opt-btn.bad { outline:4px solid rgba(249,65,68,.28); }

/* ====== TUJUAN ====== */
.lvl6-goal{
  width:min(560px, 96vw);
  font-size:12px;
  opacity:.75;
  text-align:center;
  margin-top:4px;
  line-height:1.35;
}

/* =========================
   BOTTOM NOTIF BAR (HP)
   ========================= */
.lvl6-bottom{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: calc(10px + env(safe-area-inset-bottom));
  width: min(560px, 96vw);
  z-index: 999;
  display: grid;
  gap: 10px;
}

.lvl6-bottom .hint,
.lvl6-bottom .answer-feedback{
  width: 100%;
  border-radius: 18px;
  padding: 14px 14px;
  background: #e2f8e9;
  box-shadow: 0 12px 28px rgba(0,0,0,.12);
  text-align: center;
  font-weight: 950;
  border: 3px solid rgba(27,127,58,.20);
}

.lvl6-bottom .answer-feedback{
  background:#fff;
  border-color: rgba(249,65,68,.25);
}

.lvl6-bottom .answer-feedback.good{
  border-color: rgba(27,127,58,.35);
}
.lvl6-bottom .answer-feedback.bad{
  border-color: rgba(249,65,68,.35);
}

/* feedback kosong: hilang total */
.answer-feedback:empty{
  display: none !important;
  padding: 0 !important;
  border: 0 !important;
  box-shadow: none !important;
  margin: 0 !important;
}

/* animasi pulse */
@keyframes pulseBorder {
  0%   { transform: scale(1); }
  50%  { transform: scale(1.02); }
  100% { transform: scale(1); }
}
.pulse{
  animation: pulseBorder .55s ease-in-out 2;
}

/* =========================
   OVERRIDE level1.css (aman)
   ========================= */
#game .opt-btn{
  width:100% !important;
  display:flex !important;
  align-items:center !important;
  justify-content:flex-start !important;
  text-align:left !important;
}

/* =========================
   DESKTOP / LAYAR LEBAR
   - bottom bar kembali normal (ga fixed)
   - opsi jadi 2 kolom biar rapi
   ========================= */
@media (min-width: 421px){

  .lvl6-layout{
    padding-bottom: 20px; /* desktop gak perlu ruang bottom fixed */
  }

  .lvl6-bottom{
    position: static !important;
    left: auto !important;
    transform: none !important;
    bottom: auto !important;
    width: min(560px, 96vw) !important;
    margin: 16px auto 0;
    z-index: auto !important;
  }

  .lvl6-options{
    grid-template-columns: 1fr 1fr; /* desktop 2 kolom */
  }
}

/* =========================
   HP KECIL
   - jarak gak jauh
   - notif kecil biar ga nabrak
   ========================= */
@media (max-width: 420px){

  .lvl6-layout{
    padding-bottom: calc(110px + env(safe-area-inset-bottom)) !important;
  }

  .lvl6-goal{
    margin-top:2px !important;
    line-height:1.25 !important;
  }

  .lvl6-bottom{
    gap:6px !important;
    bottom: calc(4px + env(safe-area-inset-bottom)) !important;
  }

  /* hint: 1 baris */
  .lvl6-bottom .hint{
    padding:8px 10px !important;
    font-size:12.5px !important;
    line-height:1.2 !important;
    border-radius:14px !important;

    max-height:42px !important;
    overflow:hidden !important;
    display:-webkit-box !important;
    -webkit-line-clamp:1 !important;
    -webkit-box-orient:vertical !important;
  }

  /* feedback: max 2 baris */
  .lvl6-bottom .answer-feedback{
    padding:10px 10px !important;
    font-size:14px !important;
    line-height:1.15 !important;
    border-radius:14px !important;

    max-height:64px !important;
    overflow:hidden !important;
    display:-webkit-box !important;
    -webkit-line-clamp:2 !important;
    -webkit-box-orient:vertical !important;

    word-break: break-word;
  }
}
